<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head>
<title>Getting Started with phoneME Feature Software (MR2)</title> 

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<!-- <link rel="stylesheet" type="text/css" href="OSS_Doc_Template_files/print.html" 
media="print"></link> -->
<!-- <script src="./tigris.css" type="text/javascript"></script> -->
<meta name="version" content="3.5.1.19.8">
<style type="text/css">

/* <![CDATA[ */
@import "tigris.css";
@import "inst.css";
/* ]]> */

KBD {font-size: larger;}
 </style></head>
<body class="composite" style="margin-top: 25px; margin-left: 25px; margin-right: 25px; 
margin-bottom: 30px;"> 
  <table id="main" border="0" cellpadding="4" cellspacing="0" width="100%">
<tbody><tr>
 <td id="midcol">

<!-- =========  BEGIN PAGE BODY (Ignore Everything Above)  ====================== -->

<!-- BEGIN PAGE TITLE -->
<div id="projecthome" class="app"> <h1><font color="#e76f00">Setting Up Your Build 
Environment<span class="style1"></span></font></h1>
<!-- END PAGE TITLE -->

<p>
<a href="./index_feature.html">first</a> | <a href="./begin_feature.html">prev</a> |  
<a href="./javacall_feature.html">next</a> | <a href="./client_feature.html">last</a> 
<p> 

This section describes how to prepare your Linux/i386 or Win32/i386 build environment
for building the JavaCall porting layer, PCSL and CLDC reference ports, and the 
phoneME Feature client.  You do this by downloading and installing required software
tools (if  needed) and setting important build environment variables.
<p>
This document contains the following sections:
<p>
<ul>
<li><a href="#linux_setup">Setting Up the Linux/i386 Build Environment</a>
<li><a href="#win_setup">Setting Up the Win32/i386 Build Environment</a>
</ul>
<P>
<b>Note:</b> This document is part of the MR2 development release version of phoneME Feature
software. The instructions have not been verified or tested.  The contents will continue to
change as development moves forward. 
<p>

<!-- BEGIN SECTION HEAD -->
<hr noshade="noshade" size="1">
<a name="linux_setup"></a><h3>Setting Up the Linux/i386 Build Environment</a></h3>
<!-- END SECTION HEAD -->
<p>

<!--
Building the phoneME Feature software on your Linux/i386 build environment requires 
several steps:
<p>
<ul>
<li>Set <a href="#build_var">build</a> platform environment variables   
<li>If needed, <a href="#acquire">acquire</a> supporting software 
<li>Set <a href="#support_var">supporting</a> software environment variables
</ul>
-->

To set up the Linux/i386 build environment to build phoneME Feature software for both 
Linux/i386 and Linux/ARM target platforms, set the environment variables shown in 
<a href="#table1-1">Table1-1</a> as system variables.
<P>

<a name="table1-1"></a>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000"
CELLPADDING=5 CELLSPACING=0 >
<CAPTION> <b>TABLE 1-1</b> Linux/i386 Build Platform Environment Variables</CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474006"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474008"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474801"></A><KBD Class="Filename-Command">
HOME<KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAMe="pgfId-474803"></A>The location where you have 
installed the phoneME Feature software.  For example, 
<code>HOME=/home/chocolate/phoneME_feature</code>.
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474801"></A><KBD Class="Filename-Command">
BUILD_OUTPUT_DIR<KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAMe="pgfId-474803"></A>The location where executables and
other build output for phoneME Feature components are stored. For example,
<code>BUILD_OUTPUT_DIR=$HOME/build_output</code>.
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-473767"></A><KBD CLASS="Filename-Command">
JDK_DIR</KBD><A NAME="marker-473764"></A><A NAME="marker-473765"></A>
<A NAME="marker-473766"></A>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P>The directory that contains the JDK release.  For example,
<code>JDK_DIR=/usr/java/j2sdk1.4.2_08</code>.
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474043"></A><KBD>PATH</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474045"></A>Software development tools used 
in the Linux/i386 and Linux/ARM build processes, such as JDK, must be included 
in your PATH. 
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<p>

<!--
<a name="build_vars"></a>
<strong>Setting Build Platform Environment Variables</strong>
<p>
-->

<OL>
<li>Set your HOME environment variable to the location where you have installed 
the <code>phoneME_feature</code> directory.
<p>
<code>$ export HOME=</code><i>your_install_dir</i><code>/phoneME_feature</code>
<p>
<li>Create the directory <code>build_output</code> and set the 
<code>BUILD_OUTPUT_DIR</code> variable.
<p>
<code>$ mkdir $HOME/build_output</code>
<br>
<code>$ export BUILD_OUTPUT_DIR=$HOME/build_output</code>
<p>
<li>Set the <code>JDK_DIR</code> variable.
<p>
<code>$ export JDK_DIR=/usr/java/j2sdk1.4.2_08</code>
<p>
<li>Add <code>JDK_DIR</code> to your <code>PATH</code>.
<p>
<code>$ export PATH=$JDK_DIR/bin:$PATH</code>
</OL>
<p>


<a name="acquire"></a>
<strong>Acquiring and Installing Supporting Software</strong>
<p>

Depending upon how your Linux/i386 build platform is set up, you may (or may not) 
need to acquire the following additional software tools.  To properly build phoneME 
Feature software on a Linux/i386 build platform, these tools need to be present in 
your build environment.
<p>
<ul>
<li>GNU <a href="http://ftp.gnu.org/pub/gnu/make">Make 3.79.1</a> or later  
<li>GNU Compiler <a href="http://gcc.gnu.org">GCC 3.4.6</a> or later
<li>Trolltech <a href="http://www.trolltech.com/products/qt"> QT Toolkit, version 3</a>
graphic support package
</ul>
<p>
<b>Note:</b> Instructions for installing supporting software are provided with the
software packages.
<p>
In addition, to cross-commpile phoneME Feature software for the Linux/ARM (P2 board) 
target platform, you must acquire and install the following software:
<p>
<ul>
<li>MontaVista <a href="http://www.mvista.com/products/cee/adk_features.html">CEE 3.1
ADK</a> developer tools
</ul>   
<p>

<a name="support_var"></a>
<strong>Setting Build Platform Environment Variables for Supporting Software</strong>
<p>

Once you have acquired additional build support tools for your Linux/i386 build platfom,
set additional environment variables as shown in <a href="#table1-2">TABLE 1-2</a>.
<p>
<a name="table1-2"></a>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000"
CELLPADDING=5 CELLSPACING=0 >
<CAPTION> <b>TABLE 1-2</b> Linux/i386 Build Platform Environment Variables</CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474006"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474008"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-473785">
</A><KBD CLASS="Filename-Command">QTDIR</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-473787"></A>Points to the location where
the Trolltech QT Toolkit graphics support package is installed.  For example,
<code>QTDIR=/usr/lib/qt3</code>.
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-475081"></A><KBD Class="Filename-Command">
GNU_TOOLS_DIR<KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-475083"></A>Points to the location of MontaVista
software development tools, which are used to build for a Linux/ARM target platform.  
For example, 
<code>GNU_TOOLS_DIR=/opt/montavista/cee/devkit/arm/v4t_le/armv4tl-hardhat-linux</code>.  
</P>
</TD>
</TR>

<!-- ____________________ Comment Out Unneeded Variables ___________ -->
<!-- 
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-473785">
</A><KBD CLASS="Filename-Command">LD_LIBRARY_PATH</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-473787"></A>Directory that contains the 
libraries needed by the build
and run the phoneME Feature software.
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-475081"></A><KBD Class="Filename-Command">
QWS_DISPLAY<KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-475083"></A>Indicates the number assigned
to the frame buffer window when it is launched.  Can be any number between 
<code>0</code> and <code>9</code>. 
</P>
</TD>
</TR>
-->
<!-- ______________________________________________________________ -->

</TBODY>
</TABLE>
<p>

<!--
<a name="support_var"></a>
<strong>Setting Build Platform Environment Variables for Supporting Software</strong>
<p>
-->

<p>
<b>Note:</b> Set <code>QTDIR</code> as a system variable and set <code>GNU_TOOLS_DIR</code>
on the command line when building for the Linux/ARM target platform.
<p>
<OL>
<li>Set the <code>QTDIR</code> variable.
<p>
<code>$ export QTDIR=/usr/lib/qt3</code>
<p>
<!--
<code>$ export GNU_TOOLS_DIR=/opt/montavista/cee/devkit/arm/v4t_le/armv4tl-hardhat-linux</code>
<p>
-->
<li>Add <code>QTDIR</code> to your </code>PATH</code>.
<p>
<code>$ export PATH=$PATH:$QTDIR/bin</code>
</OL>
<p>
<a name="montavista"></a>
<b>Note:</b> For ease of use, set the path to the MontaVista tools to a system variable not 
called by the <code>make</code> files.  Then, on the Linux/ARM <code>make</code> command line, 
you can assign this variable to <code>GNU_TOOLS_DIR</code>. For example,
<p>
<ul>
<code>$ export MONTAVISTA=/opt/montavista/cee/devkit/arm/v4t_le/armv4tl-hardhat-linux</code>
<p>
Then, on the <code>make</code> command line, to call the MontaVista development tools, you 
simply enter:
<p>
<code>GNU_TOOLS_DIR=$MONTAVISTA</code> 
<p>
An example of this variable method is provided <a href="./pcsl_feature.html#arm">here</a>.
</ul>
<p>

<!-- BEGIN SECTION HEAD -->
<hr noshade="noshade" size="1">
<a name="win_setup"></a><h3>Setting Up the Win32/i386 Build Environment</h3>
<!-- END SECTION HEAD -->
<p>

To set up your Win32/i386 platform, you must take the following steps:
<P>
<UL>
<LI>Install <a href="#cyg4me">Cyg4Me</a></LI>
<LI>Set win32/i386 platform <a href="#win_var">environment variables</a></LI>
<!-- <li>update your <a href="#win_path">PATH</a> environment variable</LI> -->
</UL>
<p>

<a name="cyg4me"></a>
<strong>Installing Cyg4Me</strong>
<p>

Before you build phoneME Feature on a Win32/i386 platform, download and install Cyg4Me, 
version 1.1. Cyg4Me is a standardized version of Cygwin for building Java ME platform
products on Windows. It provides the necessary UNIX&#174; system tools, such as
<KBD CLASS="Filename-Command">sh</KBD> and <KBD CLASS="Filename-Command">gnumake</KBD>.
<P>
<ol>
<li>Download the Cyg4Me zip file 
<a href="ftp://ftp.sunfreeware.com/pub/freeware/contributions/cygwin">
<code>cyg4me1_1_full.zip</code></a>.
<P>
This file contains all the executables and libraries needed to build on the Win32/i386 
platform.
<P>
<li>Unzip the file.</li>
<P>
For example, you could unzip the file into 
<KBD CLASS="Filename-Command">C:&#92;cyg4me</KBD>.
<P>
</ol>
<p>


<a name="win_var"></a>
<strong>Setting Build Platform Environment Variables</strong>
<p>

To build the phoneME Feature software on a Win32/i386 platform, you must set the 
environment variables shown in <A HREF="#table1-3">TABLE 1-3</A>.
<P>
<a name="table1-3"></a>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" 
CELLPADDING=5 CELLSPACING=0 >
<CAPTION> <b>TABLE 1-3</b> Win32/i386 Platform Environment Variables</CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474006"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474008"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474801"></A><KBD Class="Filename-Command">
HOME<KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAMe="pgfId-474803"></A>The location where you have
installed the phoneME Feature software.  For example,
<code>HOME=C:\home\chocolate\phoneME_feature</code>.
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474801"></A><KBD Class="Filename-Command">
BUILD_OUTPUT_DIR<KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAMe="pgfId-474803"></A>The location where executables and
other build output for phoneME Feature components are stored. For example, 
<code>BUILD_OUTPUT_DIR=%HOME%\build_output</code>.

</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474013"></A><KBD CLASS="Filename-Command">
JDK_DIR</KBD><A NAME="marker-474010"></A><A NAME="marker-474011"></A>
<A NAME="marker-474012"></A>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474015"></A>Directory that contains the JDK 
release.  For example, <code>JDK_DIR=C:\java\j2sdk1.4.2_08</code>.
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474043"></A><KBD>PATH</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474045"></A>Must be set to include Cyg4Me
and other tools used in the Win32/i386 build process. 
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<p>

<OL>
<li>Set your HOME environment variable to the location where you have installed
the <code>phoneME_feature</code> directory.
<p>
<code>$ set HOME=C:\</code><i>your_install_dir</i><code>\phoneME_feature</code>
<p>
<li>Create the directory <code>build_output</code> as a folder and set the 
<code>BUILD_OUTPUT_DIR</code> variable. 
<p>
<code>$ set BUILD_OUTPUT_DIR=%HOME%\build_output</code>
<p>
<li>Set the <code>JDK_DIR</code> variable.
<p>
<code>$ set JDK_DIR=C:\java\j2sdk1.4.2_08</code>
<p>
<li>You must add Cyg4Me and <code>JDK_DIR</code> to your <KBD>PATH</KBD> environment 
variable.  Make the <KBD>bin</KBD> directory of your Cyg4Me installation the first 
element of your <code>PATH</code>, as shown here. 
<P>
<code>$ set PATH=C:&#92;cyg4me&#92;bin;%JDK_DIR%\bin;%PATH%</code>
</OL>
<P>
<b>Note:</b> If you have previously installed Cygwin on your Win32/i386 platform, remove 
all <code>PATH</code> elements that point to those previous versions.  
<PRE>


</pre>

<a href="./index_feature.html">first</a> | <a href="./begin_feature.html">prev</a> | 
<a href="./javacall_feature.html">next</a> | <a href="./client_feature.html">last</a> 


<!-- =============================== END PAGE BODY ======================= -->

</div></td></tr></tbody></table></body></html>
